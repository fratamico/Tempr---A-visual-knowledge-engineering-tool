
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Analyzing PhET Sim Log Data</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/dataTables.bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">

    <script src="js/ie-emulation-modes-warning.js"></script>
    <script src="js/mergeData.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="js/horizon.js"></script>
    <script src="js/create_graph.js"></script>

    <style> 
    .container { border:2px solid #ccc; width:500px; height: 700px; overflow-y: scroll; position: relative; padding-top: 15px; padding-bottom: 15px; float:left;} 

    .container2 { border:2px solid #ccc; width:841px; height: 700px; overflow-y: scroll; position: relative; left: 20px; padding-top: 5px; padding-bottom: 5px; padding-left: 5px} 
    .container3 { border:2px solid #ccc; width:1000; height: 750px; overflow-y: scroll; position: relative; padding-top: 15px; padding-bottom: 15px;} 

    .boxplot-image {position: relative; width:100%;}

    #showhorizonplot {width: 820px;}

    #merge {
    position:relative;
    float:left
    }

    #visualize {
        position:relative;
        float:right;
    }

    .buttons {
      height: 30px;
    }

    #someID {
      padding-left: 20px;
    }

    #content
    {
        height:auto;
        width:250px;
        margin:0px auto;
    }

    /* disable text selection */
      svg *::selection {
         background : transparent;
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Consolas, courier;
        fill: #aaa;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: sans-serif;
        font-size: 12px;
        line-height: 20px;
      }

      /* for horizon plots */
      .stacked_charts {
        position: relative;
      }


      .axis path,
      .axis line {
          fill: none;
          stroke: black;
          shape-rendering: crispEdges;
      }

      .axis text {
          font-family: sans-serif;
          font-size: 11px;
      }

    </style>


    <script type="text/javascript" src="js/listCollapse.js"></script>
    <script type="text/javascript">
    window.onload = function () {

      //choose one of these options

      //option 1 - no auto-child-collapse
      compactMenu('someID',false,'&plusmn; ');

    }
    </script>



  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Analyzing PhET Sim Log Data</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Overview</a></li>
            <li><a href="#">Raw Log Event Frequencies</a></li>
            <li><a href="#temporal">Temporal Visualizations</a></li>
          </ul>

        </div>
      </div>
    </nav>


        <div class="main">
          <h2 class="sub-header">Overview</h1>

          <div class="row placeholders">
            <img src="images/boxplots2.png" class="boxplot-image" alt="Generic placeholder thumbnail">
          </div>

          <h2 class="sub-header">Raw Log Event Frequencies</h2>
          <div class="table-responsive">
            <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Actor</th>
                <th>Component</th>
                <th>Action</th>
                <th>High Learners Frequency (Standard Deviation)</th>
                <th>Low Learners Frequency (Standard Deviation)</th>
                <th>Difference (High - Low)</th>
                <th>Statistical Difference (p-value)</th>
            </tr>
        </thead>
 
        <tfoot>
            <tr>
                <th>Actor</th>
                <th>Component</th>
                <th>Action</th>
                <th>High Learners Frequency (Standard Deviation)</th>
                <th>Low Learners Frequency (Standard Deviation)</th>
                <th>Difference (High - Low)</th>
                <th>Statistical Difference (p-value)</th>
            </tr>
        </tfoot>
 
        <tbody>
          <tr>
            <td>model</td>
            <td>resistor</td>
            <td>fireStarted</td>
            <td>0.00384 (0.003)</td>
            <td><b>0.00732 (0.013)</b></td>
            <td>-0.00349</td>
            <td>0.489</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>changed</td>
            <td><b>0.00311 (0.002)</b></td>
            <td>0.00134 (0.000)</td>
            <td>0.00177</td>
            <td>0.191</td>
          </tr>
          <tr>
            <td>user</td>
            <td>mediumRadioButton</td>
            <td>pressed</td>
            <td><b>0.00793 (0.009)</b></td>
            <td>0.00401 (0.003)</td>
            <td>0.00392</td>
            <td>0.349</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>endDrag</td>
            <td>0.00312 (0.004)</td>
            <td><b>0.00435 (0.003)</b></td>
            <td>-0.00123</td>
            <td>0.560</td>
          </tr>
          <tr>
            <td>user</td>
            <td>showReadoutCheckBox</td>
            <td>pressed</td>
            <td><b>0.00404 (0.004)</b></td>
            <td>0.00383 (0.002)</td>
            <td>0.00021</td>
            <td>0.904</td>
          </tr>
          <tr>
            <td>user</td>
            <td>schematicRadioButton</td>
            <td>pressed</td>
            <td><b>0.00304 (0.003)</b></td>
            <td>0.00142 (0.001)</td>
            <td>0.00162</td>
            <td>0.278</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resetAllConfirmationDialogYesButton</td>
            <td>pressed</td>
            <td>0.00245 (0.001)</td>
            <td><b>0.00246 (0.002)</b></td>
            <td>-0.00002</td>
            <td>0.980</td>
          </tr>
          <tr>
            <td>user</td>
            <td>smallRadioButton</td>
            <td>pressed</td>
            <td><b>0.00847 (0.008)</b></td>
            <td>0.00379 (0.003)</td>
            <td>0.00468</td>
            <td>0.209</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>activated</td>
            <td>0.00318 (0.000)</td>
            <td><b>0.01075 (0.009)</b></td>
            <td>-0.00757</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>redProbe</td>
            <td>startDrag</td>
            <td>0.01692 (0.008)</td>
            <td><b>0.01768 (0.010)</b></td>
            <td>-0.00076</td>
            <td>0.733</td>
          </tr>
          <tr>
            <td>user</td>
            <td>redProbe</td>
            <td>drag</td>
            <td>0.02377 (0.012)</td>
            <td><b>0.02551 (0.015)</b></td>
            <td>-0.00175</td>
            <td>0.606</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resetAllConfirmationDialogNoButton</td>
            <td>pressed</td>
            <td><b>0.00134 (0.001)</b></td>
            <td>0.00087 (0.000)</td>
            <td>0.00047</td>
            <td>0.449</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>windowClosing</td>
            <td>- (-)</td>
            <td><b>0.00246 (0.001)</b></td>
            <td>-0.00246</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>lightBulb</td>
            <td>removedComponent</td>
            <td><b>0.00335 (0.003)</b></td>
            <td>0.00329 (0.003)</td>
            <td>0.00007</td>
            <td>0.959</td>
          </tr>
          <tr>
            <td>parser</td>
            <td>break</td>
            <td>merge</td>
            <td><b>0.00125 (0.000)</b></td>
            <td>0.00088 (0.000)</td>
            <td>0.00037</td>
            <td>0.394</td>
          </tr>
          <tr>
            <td>user</td>
            <td>grabBagResistor</td>
            <td>movedComponent</td>
            <td><b>0.00710 (0.005)</b></td>
            <td>0.00443 (0.006)</td>
            <td>0.00268</td>
            <td>0.502</td>
          </tr>
          <tr>
            <td>user</td>
            <td>lightBulb</td>
            <td>movedComponent</td>
            <td>0.00337 (0.002)</td>
            <td><b>0.01095 (0.011)</b></td>
            <td>-0.00758</td>
            <td>0.125</td>
          </tr>
          <tr>
            <td>user</td>
            <td>grabBagResistor</td>
            <td>removedComponent</td>
            <td><b>0.00411 (0.003)</b></td>
            <td>0.00105 (0.000)</td>
            <td>0.00306</td>
            <td>0.074</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistor</td>
            <td>addedComponent</td>
            <td>0.01132 (0.006)</td>
            <td><b>0.01178 (0.006)</b></td>
            <td>-0.00046</td>
            <td>0.779</td>
          </tr>
          <tr>
            <td>model</td>
            <td>junction</td>
            <td>junctionFormed</td>
            <td>0.07074 (0.031)</td>
            <td><b>0.07166 (0.034)</b></td>
            <td>-0.00092</td>
            <td>0.912</td>
          </tr>
          <tr>
            <td>user</td>
            <td>hideElectronsCheckBox</td>
            <td>pressed</td>
            <td><b>0.01288 (0.000)</b></td>
            <td>0.00337 (0.000)</td>
            <td>0.00950</td>
            <td>-</td>
          </tr>
          <tr>
            <td>model</td>
            <td>voltmeterBlackLeadModel</td>
            <td>connectionFormed</td>
            <td><b>0.02416 (0.010)</b></td>
            <td>0.02184 (0.011)</td>
            <td>0.00232</td>
            <td>0.382</td>
          </tr>
          <tr>
            <td>model</td>
            <td>nonContactAmmeterModel</td>
            <td>connectionFormed</td>
            <td><b>0.06394 (0.026)</b></td>
            <td>0.05676 (0.027)</td>
            <td>0.00718</td>
            <td>0.317</td>
          </tr>
          <tr>
            <td>user</td>
            <td>fileMenu</td>
            <td>pressed</td>
            <td>0.00122 (0.000)</td>
            <td><b>0.00246 (0.002)</b></td>
            <td>-0.00124</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistivitySlider</td>
            <td>startDrag</td>
            <td><b>0.00410 (0.002)</b></td>
            <td>0.00195 (0.001)</td>
            <td>0.00215</td>
            <td>0.274</td>
          </tr>
          <tr>
            <td>user</td>
            <td>showAdvancedControlsButton</td>
            <td>pressed</td>
            <td>0.00188 (0.001)</td>
            <td><b>0.00256 (0.002)</b></td>
            <td>-0.00068</td>
            <td>0.590</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>startDrag</td>
            <td>0.00159 (0.000)</td>
            <td><b>0.00515 (0.003)</b></td>
            <td>-0.00356</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>lightBulb</td>
            <td>addedComponent</td>
            <td>0.00330 (0.003)</td>
            <td><b>0.00372 (0.003)</b></td>
            <td>-0.00041</td>
            <td>0.772</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>windowClosing</td>
            <td>- (-)</td>
            <td><b>0.01028 (0.000)</b></td>
            <td>-0.01028</td>
            <td>-</td>
          </tr>
          <tr>
            <td>model</td>
            <td>seriesAmmeter</td>
            <td>measuredCurrentChanged</td>
            <td><b>0.06249 (0.070)</b></td>
            <td>0.05653 (0.043)</td>
            <td>0.00596</td>
            <td>0.865</td>
          </tr>
          <tr>
            <td>user</td>
            <td>nonContactAmmeter</td>
            <td>startDrag</td>
            <td><b>0.02804 (0.015)</b></td>
            <td>0.02660 (0.017)</td>
            <td>0.00144</td>
            <td>0.737</td>
          </tr>
          <tr>
            <td>user</td>
            <td>hideAdvancedControlsButton</td>
            <td>pressed</td>
            <td>0.00143 (0.001)</td>
            <td><b>0.00289 (0.003)</b></td>
            <td>-0.00146</td>
            <td>0.393</td>
          </tr>
          <tr>
            <td>model</td>
            <td>seriesAmmeter</td>
            <td>fireEnded</td>
            <td>0.00066 (0.000)</td>
            <td><b>0.00287 (0.002)</b></td>
            <td>-0.00220</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>deactivated</td>
            <td>0.01507 (0.011)</td>
            <td><b>0.01649 (0.008)</b></td>
            <td>-0.00142</td>
            <td>0.565</td>
          </tr>
          <tr>
            <td>user</td>
            <td>hideHelpButton</td>
            <td>pressed</td>
            <td><b>0.00115 (0.000)</b></td>
            <td>- (-)</td>
            <td>0.00115</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>junction</td>
            <td>movedJunction</td>
            <td>0.05414 (0.033)</td>
            <td><b>0.05916 (0.029)</b></td>
            <td>-0.00502</td>
            <td>0.528</td>
          </tr>
          <tr>
            <td>user</td>
            <td>circuitSwitch</td>
            <td>switchClosed</td>
            <td><b>0.00631 (0.005)</b></td>
            <td>0.00218 (0.001)</td>
            <td>0.00413</td>
            <td>0.237</td>
          </tr>
          <tr>
            <td>user</td>
            <td>battery</td>
            <td>pressed</td>
            <td><b>0.00273 (0.002)</b></td>
            <td>0.00192 (0.001)</td>
            <td>0.00081</td>
            <td>0.325</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>endDrag</td>
            <td><b>0.00359 (0.001)</b></td>
            <td>0.00111 (0.000)</td>
            <td>0.00248</td>
            <td>-</td>
          </tr>
          <tr>
            <td>model</td>
            <td>battery</td>
            <td>fireEnded</td>
            <td><b>0.00368 (0.003)</b></td>
            <td>0.00347 (0.003)</td>
            <td>0.00021</td>
            <td>0.841</td>
          </tr>
          <tr>
            <td>user</td>
            <td>grabBagResistor</td>
            <td>addedComponent</td>
            <td><b>0.00351 (0.003)</b></td>
            <td>0.00239 (0.003)</td>
            <td>0.00112</td>
            <td>0.581</td>
          </tr>
          <tr>
            <td>user</td>
            <td>nonContactAmmeterCheckBox</td>
            <td>pressed</td>
            <td><b>0.00396 (0.007)</b></td>
            <td>0.00330 (0.004)</td>
            <td>0.00066</td>
            <td>0.672</td>
          </tr>
          <tr>
            <td>model</td>
            <td>nonContactAmmeterModel</td>
            <td>connectionBroken</td>
            <td><b>0.06987 (0.031)</b></td>
            <td>0.06259 (0.031)</td>
            <td>0.00728</td>
            <td>0.388</td>
          </tr>
          <tr>
            <td>model</td>
            <td>wire</td>
            <td>fireEnded</td>
            <td>0.01478 (0.016)</td>
            <td><b>0.01541 (0.010)</b></td>
            <td>-0.00063</td>
            <td>0.888</td>
          </tr>
          <tr>
            <td>model</td>
            <td>wire</td>
            <td>fireStarted</td>
            <td>0.01527 (0.016)</td>
            <td><b>0.01776 (0.010)</b></td>
            <td>-0.00249</td>
            <td>0.580</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>deactivated</td>
            <td>0.00281 (0.002)</td>
            <td><b>0.00353 (0.003)</b></td>
            <td>-0.00073</td>
            <td>0.666</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>changed</td>
            <td>0.00318 (0.000)</td>
            <td><b>0.02389 (0.020)</b></td>
            <td>-0.02070</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>deactivated</td>
            <td><b>0.00199 (0.000)</b></td>
            <td>0.00156 (0.001)</td>
            <td>0.00044</td>
            <td>0.332</td>
          </tr>
          <tr>
            <td>user</td>
            <td>helpMenu</td>
            <td>pressed</td>
            <td><b>0.00366 (0.000)</b></td>
            <td>0.00149 (0.000)</td>
            <td>0.00218</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>playPauseButton</td>
            <td>pressed</td>
            <td>0.00332 (0.002)</td>
            <td><b>0.00774 (0.006)</b></td>
            <td>-0.00443</td>
            <td>0.159</td>
          </tr>
          <tr>
            <td>user</td>
            <td>seriesAmmeter</td>
            <td>movedComponent</td>
            <td>0.00225 (0.001)</td>
            <td><b>0.00335 (0.002)</b></td>
            <td>-0.00110</td>
            <td>0.312</td>
          </tr>
          <tr>
            <td>model</td>
            <td>nonContactAmmeterModel</td>
            <td>measuredCurrentChanged</td>
            <td><b>0.07772 (0.022)</b></td>
            <td>0.07176 (0.026)</td>
            <td>0.00596</td>
            <td>0.362</td>
          </tr>
          <tr>
            <td>user</td>
            <td>battery</td>
            <td>addedComponent</td>
            <td>0.00453 (0.004)</td>
            <td><b>0.00538 (0.009)</b></td>
            <td>-0.00085</td>
            <td>0.614</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>activated</td>
            <td>0.00281 (0.002)</td>
            <td><b>0.00353 (0.003)</b></td>
            <td>-0.00073</td>
            <td>0.666</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>endDrag</td>
            <td>0.00159 (0.000)</td>
            <td><b>0.00515 (0.003)</b></td>
            <td>-0.00356</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>moreVoltsCheckBox</td>
            <td>pressed</td>
            <td><b>0.00229 (0.000)</b></td>
            <td>0.00166 (0.001)</td>
            <td>0.00063</td>
            <td>-</td>
          </tr>
          <tr>
            <td>model</td>
            <td>voltmeterRedLeadModel</td>
            <td>connectionFormed</td>
            <td><b>0.02243 (0.009)</b></td>
            <td>0.02200 (0.011)</td>
            <td>0.00043</td>
            <td>0.867</td>
          </tr>
          <tr>
            <td>user</td>
            <td>lightBulb</td>
            <td>pressed</td>
            <td>0.00086 (0.000)</td>
            <td><b>0.00271 (0.003)</b></td>
            <td>-0.00185</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>helpButton</td>
            <td>pressed</td>
            <td><b>0.00115 (0.000)</b></td>
            <td>- (-)</td>
            <td>0.00115</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistor</td>
            <td>movedComponent</td>
            <td><b>0.01221 (0.010)</b></td>
            <td>0.00910 (0.007)</td>
            <td>0.00311</td>
            <td>0.171</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>changed</td>
            <td>0.02182 (0.017)</td>
            <td><b>0.02880 (0.023)</b></td>
            <td>-0.00697</td>
            <td>0.187</td>
          </tr>
          <tr>
            <td>user</td>
            <td>stepButton</td>
            <td>pressed</td>
            <td><b>0.01374 (0.012)</b></td>
            <td>0.00678 (0.000)</td>
            <td>0.00696</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>windowClosing</td>
            <td><b>0.00191 (0.000)</b></td>
            <td>0.00124 (0.000)</td>
            <td>0.00067</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>nonContactAmmeter</td>
            <td>drag</td>
            <td><b>0.08334 (0.036)</b></td>
            <td>0.06732 (0.033)</td>
            <td>0.01602</td>
            <td>0.091</td>
          </tr>
          <tr>
            <td>user</td>
            <td>wire</td>
            <td>movedComponent</td>
            <td>0.01188 (0.010)</td>
            <td><b>0.01580 (0.012)</b></td>
            <td>-0.00392</td>
            <td>0.171</td>
          </tr>
          <tr>
            <td>user</td>
            <td>blackProbe</td>
            <td>endDrag</td>
            <td><b>0.01795 (0.007)</b></td>
            <td>0.01753 (0.009)</td>
            <td>0.00042</td>
            <td>0.845</td>
          </tr>
          <tr>
            <td>model</td>
            <td>voltmeterRedLeadModel</td>
            <td>connectionBroken</td>
            <td><b>0.02174 (0.008)</b></td>
            <td>0.02112 (0.011)</td>
            <td>0.00062</td>
            <td>0.803</td>
          </tr>
          <tr>
            <td>user</td>
            <td>circuitSwitch</td>
            <td>movedComponent</td>
            <td><b>0.00166 (0.001)</b></td>
            <td>0.00117 (0.000)</td>
            <td>0.00049</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>activated</td>
            <td>0.01507 (0.011)</td>
            <td><b>0.01651 (0.008)</b></td>
            <td>-0.00144</td>
            <td>0.561</td>
          </tr>
          <tr>
            <td>user</td>
            <td>battery</td>
            <td>removedComponent</td>
            <td><b>0.00378 (0.003)</b></td>
            <td>0.00375 (0.004)</td>
            <td>0.00003</td>
            <td>0.978</td>
          </tr>
          <tr>
            <td>model</td>
            <td>voltmeterModel</td>
            <td>measuredVoltageChanged</td>
            <td>0.03912 (0.020)</td>
            <td><b>0.04278 (0.023)</b></td>
            <td>-0.00366</td>
            <td>0.510</td>
          </tr>
          <tr>
            <td>user</td>
            <td>bulbResistorEditor</td>
            <td>deactivated</td>
            <td>0.00318 (0.000)</td>
            <td><b>0.01075 (0.009)</b></td>
            <td>-0.00757</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>wire</td>
            <td>addedComponent</td>
            <td><b>0.02972 (0.017)</b></td>
            <td>0.02903 (0.013)</td>
            <td>0.00068</td>
            <td>0.861</td>
          </tr>
          <tr>
            <td>user</td>
            <td>grabBagButton</td>
            <td>pressed</td>
            <td><b>0.00279 (0.003)</b></td>
            <td>0.00244 (0.003)</td>
            <td>0.00035</td>
            <td>0.826</td>
          </tr>
          <tr>
            <td>user</td>
            <td>circuitSwitch</td>
            <td>removedComponent</td>
            <td><b>0.00196 (0.002)</b></td>
            <td>0.00150 (0.001)</td>
            <td>0.00046</td>
            <td>0.706</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>startDrag</td>
            <td><b>0.00359 (0.001)</b></td>
            <td>0.00111 (0.000)</td>
            <td>0.00248</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>wire</td>
            <td>removedComponent</td>
            <td>0.01924 (0.014)</td>
            <td><b>0.01998 (0.015)</b></td>
            <td>-0.00074</td>
            <td>0.851</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>startDrag</td>
            <td>0.00312 (0.004)</td>
            <td><b>0.00435 (0.003)</b></td>
            <td>-0.00123</td>
            <td>0.560</td>
          </tr>
          <tr>
            <td>model</td>
            <td>voltmeterBlackLeadModel</td>
            <td>connectionBroken</td>
            <td><b>0.02359 (0.010)</b></td>
            <td>0.02169 (0.011)</td>
            <td>0.00190</td>
            <td>0.468</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resetAllButton</td>
            <td>pressed</td>
            <td><b>0.00270 (0.001)</b></td>
            <td>0.00246 (0.002)</td>
            <td>0.00024</td>
            <td>0.676</td>
          </tr>
          <tr>
            <td>model</td>
            <td>battery</td>
            <td>fireStarted</td>
            <td>0.00368 (0.003)</td>
            <td><b>0.00391 (0.003)</b></td>
            <td>-0.00023</td>
            <td>0.841</td>
          </tr>
          <tr>
            <td>model</td>
            <td>battery</td>
            <td>currentChanged</td>
            <td>0.05620 (0.030)</td>
            <td><b>0.06108 (0.025)</b></td>
            <td>-0.00488</td>
            <td>0.493</td>
          </tr>
          <tr>
            <td>user</td>
            <td>batteryResistanceEditor</td>
            <td>activated</td>
            <td><b>0.00199 (0.000)</b></td>
            <td>0.00156 (0.001)</td>
            <td>0.00044</td>
            <td>0.332</td>
          </tr>
          <tr>
            <td>user</td>
            <td>seriesAmmeterCheckBox</td>
            <td>pressed</td>
            <td><b>0.00397 (0.004)</b></td>
            <td>0.00324 (0.003)</td>
            <td>0.00072</td>
            <td>0.633</td>
          </tr>
          <tr>
            <td>model</td>
            <td>lightBulb</td>
            <td>fireStarted</td>
            <td>- (-)</td>
            <td><b>0.00314 (0.003)</b></td>
            <td>-0.00314</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>blackProbe</td>
            <td>drag</td>
            <td><b>0.02451 (0.011)</b></td>
            <td>0.02365 (0.013)</td>
            <td>0.00086</td>
            <td>0.776</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistivitySlider</td>
            <td>drag</td>
            <td>0.00440 (0.001)</td>
            <td><b>0.00506 (0.000)</b></td>
            <td>-0.00066</td>
            <td>-</td>
          </tr>
          <tr>
            <td>model</td>
            <td>lightBulb</td>
            <td>fireEnded</td>
            <td>- (-)</td>
            <td><b>0.00350 (0.003)</b></td>
            <td>-0.00350</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistor</td>
            <td>pressed</td>
            <td>0.00593 (0.005)</td>
            <td><b>0.00614 (0.005)</b></td>
            <td>-0.00021</td>
            <td>0.896</td>
          </tr>
          <tr>
            <td>user</td>
            <td>redProbe</td>
            <td>endDrag</td>
            <td>0.01692 (0.008)</td>
            <td><b>0.01764 (0.010)</b></td>
            <td>-0.00072</td>
            <td>0.745</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>windowClosing</td>
            <td>0.00377 (0.005)</td>
            <td><b>0.00408 (0.005)</b></td>
            <td>-0.00031</td>
            <td>0.846</td>
          </tr>
          <tr>
            <td>user</td>
            <td>circuitSwitch</td>
            <td>addedComponent</td>
            <td><b>0.00199 (0.002)</b></td>
            <td>0.00143 (0.001)</td>
            <td>0.00056</td>
            <td>0.499</td>
          </tr>
          <tr>
            <td>user</td>
            <td>nonContactAmmeter</td>
            <td>endDrag</td>
            <td><b>0.02797 (0.015)</b></td>
            <td>0.02654 (0.017)</td>
            <td>0.00142</td>
            <td>0.738</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltmeterCheckBox</td>
            <td>pressed</td>
            <td>0.00283 (0.002)</td>
            <td><b>0.00477 (0.006)</b></td>
            <td>-0.00194</td>
            <td>0.109</td>
          </tr>
          <tr>
            <td>user</td>
            <td>grabBagItemButton</td>
            <td>pressed</td>
            <td><b>0.00351 (0.003)</b></td>
            <td>0.00239 (0.003)</td>
            <td>0.00112</td>
            <td>0.581</td>
          </tr>
          <tr>
            <td>user</td>
            <td>voltageEditor</td>
            <td>changed</td>
            <td>0.00310 (0.002)</td>
            <td><b>0.01322 (0.011)</b></td>
            <td>-0.01012</td>
            <td>0.083</td>
          </tr>
          <tr>
            <td>model</td>
            <td>junction</td>
            <td>junctionSplit</td>
            <td>0.01163 (0.008)</td>
            <td><b>0.01224 (0.010)</b></td>
            <td>-0.00060</td>
            <td>0.820</td>
          </tr>
          <tr>
            <td>user</td>
            <td>seriesAmmeter</td>
            <td>removedComponent</td>
            <td>0.00191 (0.001)</td>
            <td><b>0.00279 (0.002)</b></td>
            <td>-0.00088</td>
            <td>0.413</td>
          </tr>
          <tr>
            <td>user</td>
            <td>battery</td>
            <td>movedComponent</td>
            <td>0.00285 (0.002)</td>
            <td><b>0.00333 (0.003)</b></td>
            <td>-0.00049</td>
            <td>0.497</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>endDrag</td>
            <td><b>0.01216 (0.016)</b></td>
            <td>0.00923 (0.007)</td>
            <td>0.00293</td>
            <td>0.380</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistivitySlider</td>
            <td>endDrag</td>
            <td><b>0.00410 (0.002)</b></td>
            <td>0.00195 (0.001)</td>
            <td>0.00215</td>
            <td>0.274</td>
          </tr>
          <tr>
            <td>user</td>
            <td>circuitSwitch</td>
            <td>switchOpened</td>
            <td><b>0.00688 (0.003)</b></td>
            <td>0.00222 (0.001)</td>
            <td>0.00467</td>
            <td>0.268</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistor</td>
            <td>removedComponent</td>
            <td>0.00797 (0.005)</td>
            <td><b>0.00831 (0.006)</b></td>
            <td>-0.00034</td>
            <td>0.810</td>
          </tr>
          <tr>
            <td>user</td>
            <td>largeRadioButton</td>
            <td>pressed</td>
            <td><b>0.00294 (0.002)</b></td>
            <td>0.00175 (0.000)</td>
            <td>0.00120</td>
            <td>0.351</td>
          </tr>
          <tr>
            <td>user</td>
            <td>saveButton</td>
            <td>pressed</td>
            <td><b>0.00122 (0.000)</b></td>
            <td>- (-)</td>
            <td>0.00122</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>resistorEditor</td>
            <td>startDrag</td>
            <td><b>0.01216 (0.016)</b></td>
            <td>0.00923 (0.007)</td>
            <td>0.00293</td>
            <td>0.380</td>
          </tr>
          <tr>
            <td>user</td>
            <td>seriesAmmeter</td>
            <td>addedComponent</td>
            <td>0.00230 (0.001)</td>
            <td><b>0.00364 (0.003)</b></td>
            <td>-0.00134</td>
            <td>0.270</td>
          </tr>
          <tr>
            <td>model</td>
            <td>seriesAmmeter</td>
            <td>fireStarted</td>
            <td>0.00066 (0.000)</td>
            <td><b>0.00287 (0.002)</b></td>
            <td>-0.00220</td>
            <td>-</td>
          </tr>
          <tr>
            <td>user</td>
            <td>blackProbe</td>
            <td>startDrag</td>
            <td><b>0.01799 (0.007)</b></td>
            <td>0.01753 (0.009)</td>
            <td>0.00046</td>
            <td>0.831</td>
          </tr>
          <tr>
            <td>model</td>
            <td>resistor</td>
            <td>fireEnded</td>
            <td>0.00384 (0.003)</td>
            <td><b>0.00704 (0.013)</b></td>
            <td>-0.00321</td>
            <td>0.509</td>
          </tr>
          <tr>
            <td>user</td>
            <td>lifelikeRadioButton</td>
            <td>pressed</td>
            <td><b>0.00304 (0.002)</b></td>
            <td>0.00137 (0.001)</td>
            <td>0.00167</td>
            <td>0.247</td>
          </tr>

        </tbody>
    </table>
          </div>
          <h2 class="sub-header">Temporal Log Event Freqencies - Overview</h2>

          <div class="container3">
            <div id="tooltip" class="hidden">
              <p><span id="value"></p>
            </div>
            <script src="http://d3js.org/d3.v3.min.js"></script>

            <div id="chart" style='overflow:auto; width:2000px; height:700px;'></div>
          </div>


          <h2 class="sub-header">Temporal Log Event Freqencies - Up Close</h2>
          <div class="container">
            <div class="buttons">
              <div id="merge">
                <input type="text" size="25" style="height:25px;" id="merge_name" placeholder="Type Merged Name Here"/>
                <button type="button" id="merge_button">Merge Events</button>
              </div>
              <div id="visualize">
                <button type="button" onclick="showHorizon()">Visualize</button>
              </div>
            </div>
            <ul id="someID">
              <li>Raw Log Events
                <ul>
                  <li><input type="checkbox" name="aca" value="model.battery.currentChanged"> model.battery.currentChanged</li>
                  <li><input type="checkbox" name="aca" value="model.battery.fireEnded"> model.battery.fireEnded</li>
                  <li><input type="checkbox" name="aca" value="model.battery.fireStarted"> model.battery.fireStarted</li>
                  <li><input type="checkbox" name="aca" value="model.junction.junctionFormed"> model.junction.junctionFormed</li>
                  <li><input type="checkbox" name="aca" value="model.junction.junctionSplit"> model.junction.junctionSplit</li>
                  <li><input type="checkbox" name="aca" value="model.lightBulb.fireEnded"> model.lightBulb.fireEnded</li>
                  <li><input type="checkbox" name="aca" value="model.lightBulb.fireStarted"> model.lightBulb.fireStarted</li>
                  <li><input type="checkbox" name="aca" value="model.nonContactAmmeterModel.connectionBroken"> model.nonContactAmmeterModel.connectionBroken</li>
                  <li><input type="checkbox" name="aca" value="model.nonContactAmmeterModel.connectionFormed"> model.nonContactAmmeterModel.connectionFormed</li>
                  <li><input type="checkbox" name="aca" value="model.nonContactAmmeterModel.measuredCurrentChanged"> model.nonContactAmmeterModel.measuredCurrentChanged</li>
                  <li><input type="checkbox" name="aca" value="model.resistor.fireEnded"> model.resistor.fireEnded</li>
                  <li><input type="checkbox" name="aca" value="model.resistor.fireStarted"> model.resistor.fireStarted</li>
                  <li><input type="checkbox" name="aca" value="model.seriesAmmeter.fireEnded"> model.seriesAmmeter.fireEnded</li>
                  <li><input type="checkbox" name="aca" value="model.seriesAmmeter.fireStarted"> model.seriesAmmeter.fireStarted</li>
                  <li><input type="checkbox" name="aca" value="model.seriesAmmeter.measuredCurrentChanged"> model.seriesAmmeter.measuredCurrentChanged</li>
                  <li><input type="checkbox" name="aca" value="model.voltmeterBlackLeadModel.connectionBroken"> model.voltmeterBlackLeadModel.connectionBroken</li>
                  <li><input type="checkbox" name="aca" value="model.voltmeterBlackLeadModel.connectionFormed"> model.voltmeterBlackLeadModel.connectionFormed</li>
                  <li><input type="checkbox" name="aca" value="model.voltmeterModel.measuredVoltageChanged"> model.voltmeterModel.measuredVoltageChanged</li>
                  <li><input type="checkbox" name="aca" value="model.voltmeterRedLeadModel.connectionBroken"> model.voltmeterRedLeadModel.connectionBroken</li>
                  <li><input type="checkbox" name="aca" value="model.voltmeterRedLeadModel.connectionFormed"> model.voltmeterRedLeadModel.connectionFormed</li>
                  <li><input type="checkbox" name="aca" value="model.wire.fireEnded"> model.wire.fireEnded</li>
                  <li><input type="checkbox" name="aca" value="model.wire.fireStarted"> model.wire.fireStarted</li>
                  <li><input type="checkbox" name="aca" value="parser.break.merge"> parser.break.merge</li>
                  <li><input type="checkbox" name="aca" value="user.battery.addedComponent"> user.battery.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.battery.movedComponent"> user.battery.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.battery.pressed"> user.battery.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.battery.removedComponent"> user.battery.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.activated"> user.batteryResistanceEditor.activated</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.changed"> user.batteryResistanceEditor.changed</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.deactivated"> user.batteryResistanceEditor.deactivated</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.endDrag"> user.batteryResistanceEditor.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.startDrag"> user.batteryResistanceEditor.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.batteryResistanceEditor.windowClosing"> user.batteryResistanceEditor.windowClosing</li>
                  <li><input type="checkbox" name="aca" value="user.blackProbe.drag"> user.blackProbe.drag</li>
                  <li><input type="checkbox" name="aca" value="user.blackProbe.endDrag"> user.blackProbe.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.blackProbe.startDrag"> user.blackProbe.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.activated"> user.bulbResistorEditor.activated</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.changed"> user.bulbResistorEditor.changed</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.deactivated"> user.bulbResistorEditor.deactivated</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.endDrag"> user.bulbResistorEditor.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.startDrag"> user.bulbResistorEditor.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.bulbResistorEditor.windowClosing"> user.bulbResistorEditor.windowClosing</li>
                  <li><input type="checkbox" name="aca" value="user.circuitSwitch.addedComponent"> user.circuitSwitch.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.circuitSwitch.movedComponent"> user.circuitSwitch.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.circuitSwitch.removedComponent"> user.circuitSwitch.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.circuitSwitch.switchClosed"> user.circuitSwitch.switchClosed</li>
                  <li><input type="checkbox" name="aca" value="user.circuitSwitch.switchOpened"> user.circuitSwitch.switchOpened</li>
                  <li><input type="checkbox" name="aca" value="user.fileMenu.pressed"> user.fileMenu.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.grabBagButton.pressed"> user.grabBagButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.grabBagItemButton.pressed"> user.grabBagItemButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.grabBagResistor.addedComponent"> user.grabBagResistor.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.grabBagResistor.movedComponent"> user.grabBagResistor.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.grabBagResistor.removedComponent"> user.grabBagResistor.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.helpMenu.pressed"> user.helpMenu.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.hideAdvancedControlsButton.pressed"> user.hideAdvancedControlsButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.hideElectronsCheckBox.pressed"> user.hideElectronsCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.junction.movedJunction"> user.junction.movedJunction</li>
                  <li><input type="checkbox" name="aca" value="user.largeRadioButton.pressed"> user.largeRadioButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.lifelikeRadioButton.pressed"> user.lifelikeRadioButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.lightBulb.addedComponent"> user.lightBulb.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.lightBulb.movedComponent"> user.lightBulb.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.lightBulb.pressed"> user.lightBulb.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.lightBulb.removedComponent"> user.lightBulb.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.mediumRadioButton.pressed"> user.mediumRadioButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.moreVoltsCheckBox.pressed"> user.moreVoltsCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.nonContactAmmeter.drag"> user.nonContactAmmeter.drag</li>
                  <li><input type="checkbox" name="aca" value="user.nonContactAmmeter.endDrag"> user.nonContactAmmeter.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.nonContactAmmeter.startDrag"> user.nonContactAmmeter.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.nonContactAmmeterCheckBox.pressed"> user.nonContactAmmeterCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.playPauseButton.pressed"> user.playPauseButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.redProbe.drag"> user.redProbe.drag</li>
                  <li><input type="checkbox" name="aca" value="user.redProbe.endDrag"> user.redProbe.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.redProbe.startDrag"> user.redProbe.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.resetAllButton.pressed"> user.resetAllButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.resetAllConfirmationDialogNoButton.pressed"> user.resetAllConfirmationDialogNoButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.resetAllConfirmationDialogYesButton.pressed"> user.resetAllConfirmationDialogYesButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.resistivitySlider.drag"> user.resistivitySlider.drag</li>
                  <li><input type="checkbox" name="aca" value="user.resistivitySlider.endDrag"> user.resistivitySlider.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.resistivitySlider.startDrag"> user.resistivitySlider.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.resistor.addedComponent"> user.resistor.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.resistor.movedComponent"> user.resistor.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.resistor.pressed"> user.resistor.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.resistor.removedComponent"> user.resistor.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.activated"> user.resistorEditor.activated</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.changed"> user.resistorEditor.changed</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.deactivated"> user.resistorEditor.deactivated</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.endDrag"> user.resistorEditor.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.startDrag"> user.resistorEditor.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.resistorEditor.windowClosing"> user.resistorEditor.windowClosing</li>
                  <li><input type="checkbox" name="aca" value="user.schematicRadioButton.pressed"> user.schematicRadioButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.seriesAmmeter.addedComponent"> user.seriesAmmeter.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.seriesAmmeter.movedComponent"> user.seriesAmmeter.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.seriesAmmeter.removedComponent"> user.seriesAmmeter.removedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.seriesAmmeterCheckBox.pressed"> user.seriesAmmeterCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.showAdvancedControlsButton.pressed"> user.showAdvancedControlsButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.showReadoutCheckBox.pressed"> user.showReadoutCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.smallRadioButton.pressed"> user.smallRadioButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.stepButton.pressed"> user.stepButton.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.activated"> user.voltageEditor.activated</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.changed"> user.voltageEditor.changed</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.deactivated"> user.voltageEditor.deactivated</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.endDrag"> user.voltageEditor.endDrag</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.startDrag"> user.voltageEditor.startDrag</li>
                  <li><input type="checkbox" name="aca" value="user.voltageEditor.windowClosing"> user.voltageEditor.windowClosing</li>
                  <li><input type="checkbox" name="aca" value="user.voltmeterCheckBox.pressed"> user.voltmeterCheckBox.pressed</li>
                  <li><input type="checkbox" name="aca" value="user.wire.addedComponent"> user.wire.addedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.wire.movedComponent"> user.wire.movedComponent</li>
                  <li><input type="checkbox" name="aca" value="user.wire.removedComponent"> user.wire.removedComponent</li>
                </ul>
              </li>
              <li>Merged Events
                <ul id="merged_list">
                  <li><input type="checkbox" name="aca" value="All Testing"> All Testing
                    <ul class="no_collapse">
                      <li class="All Testing_mergedActionList">model.nonContactAmmeterModel.connectionBroken</li>
                      <li class="All Testing_mergedActionList">model.nonContactAmmeterModel.connectionFormed</li>
                      <li class="All Testing_mergedActionList">model.nonContactAmmeterModel.measuredCurrentChanged</li>
                      <li class="All Testing_mergedActionList">model.seriesAmmeter.fireEnded</li>
                      <li class="All Testing_mergedActionList">model.seriesAmmeter.fireStarted</li>
                      <li class="All Testing_mergedActionList">model.seriesAmmeter.measuredCurrentChanged</li>
                      <li class="All Testing_mergedActionList">model.voltmeterBlackLeadModel.connectionBroken</li>
                      <li class="All Testing_mergedActionList">model.voltmeterBlackLeadModel.connectionFormed</li>
                      <li class="All Testing_mergedActionList">model.voltmeterModel.measuredVoltageChanged</li>
                      <li class="All Testing_mergedActionList">model.voltmeterRedLeadModel.connectionBroken</li>
                      <li class="All Testing_mergedActionList">model.voltmeterRedLeadModel.connectionFormed</li>
                      <li class="All Testing_mergedActionList">user.blackProbe.drag</li>
                      <li class="All Testing_mergedActionList">user.blackProbe.endDrag</li>
                      <li class="All Testing_mergedActionList">user.blackProbe.startDrag</li>
                      <li class="All Testing_mergedActionList">user.nonContactAmmeter.drag</li>
                      <li class="All Testing_mergedActionList">user.nonContactAmmeter.endDrag</li>
                      <li class="All Testing_mergedActionList">user.nonContactAmmeter.startDrag</li>
                      <li class="All Testing_mergedActionList">user.nonContactAmmeterCheckBox.pressed</li>
                      <li class="All Testing_mergedActionList">user.redProbe.drag</li>
                      <li class="All Testing_mergedActionList">user.redProbe.endDrag</li>
                      <li class="All Testing_mergedActionList">user.redProbe.startDrag</li>
                      <li class="All Testing_mergedActionList">user.seriesAmmeter.addedComponent</li>
                      <li class="All Testing_mergedActionList">user.seriesAmmeter.movedComponent</li>
                      <li class="All Testing_mergedActionList">user.seriesAmmeter.removedComponent</li>
                      <li class="All Testing_mergedActionList">user.seriesAmmeterCheckBox.pressed</li>
                      <li class="All Testing_mergedActionList">user.voltmeterCheckBox.pressed</li>
                    </ul>
                  </li>
                  <li><input type="checkbox" name="aca" value="Voltmeter Testing"> Voltmeter Testing
                    <ul class="no_collapse">
                      <li class="Voltmeter Testing_mergedActionList">model.voltmeterBlackLeadModel.connectionBroken</li>
                      <li class="Voltmeter Testing_mergedActionList">model.voltmeterBlackLeadModel.connectionFormed</li>
                      <li class="Voltmeter Testing_mergedActionList">model.voltmeterModel.measuredVoltageChanged</li>
                      <li class="Voltmeter Testing_mergedActionList">model.voltmeterRedLeadModel.connectionBroken</li>
                      <li class="Voltmeter Testing_mergedActionList">model.voltmeterRedLeadModel.connectionFormed</li>
                      <li class="Voltmeter Testing_mergedActionList">user.blackProbe.drag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.blackProbe.endDrag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.blackProbe.startDrag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.redProbe.drag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.redProbe.endDrag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.redProbe.startDrag</li>
                      <li class="Voltmeter Testing_mergedActionList">user.voltmeterCheckBox.pressed</li>
                    </ul>
                  </li>
                  <li><input type="checkbox" name="aca" value="Circuit Changes"> Circuit Changes
                    <ul class="no_collapse">
                      <li class="Circuit Changes_mergedActionList">model.nonContactAmmeterModel.measuredCurrentChanged</li>
                      <li class="Circuit Changes_mergedActionList">model.seriesAmmeter.measuredCurrentChanged</li>
                      <li class="Circuit Changes_mergedActionList">model.voltmeterModel.measuredVoltageChanged</li>
                    </ul>
                  </li>                  
                  <li><input type="checkbox" name="aca" value="Ammeter Testing"> Ammeter Testing
                    <ul class="no_collapse">
                      <li class="Ammeter Testing_mergedActionList">model.nonContactAmmeterModel.connectionBroken</li>
                      <li class="Ammeter Testing_mergedActionList">model.nonContactAmmeterModel.connectionFormed</li>
                      <li class="Ammeter Testing_mergedActionList">model.nonContactAmmeterModel.measuredCurrentChanged</li>
                      <li class="Ammeter Testing_mergedActionList">model.seriesAmmeter.fireEnded</li>
                      <li class="Ammeter Testing_mergedActionList">model.seriesAmmeter.fireStarted</li>
                      <li class="Ammeter Testing_mergedActionList">model.seriesAmmeter.measuredCurrentChanged</li>
                      <li class="Ammeter Testing_mergedActionList">user.nonContactAmmeter.drag</li>
                      <li class="Ammeter Testing_mergedActionList">user.nonContactAmmeter.endDrag</li>
                      <li class="Ammeter Testing_mergedActionList">user.nonContactAmmeter.startDrag</li>
                      <li class="Ammeter Testing_mergedActionList">user.nonContactAmmeterCheckBox.pressed</li>
                      <li class="Ammeter Testing_mergedActionList">user.seriesAmmeter.addedComponent</li>
                      <li class="Ammeter Testing_mergedActionList">user.seriesAmmeter.movedComponent</li>
                      <li class="Ammeter Testing_mergedActionList">user.seriesAmmeter.removedComponent</li>
                      <li class="Ammeter Testing_mergedActionList">user.seriesAmmeterCheckBox.pressed</li>
                    </ul>
                  </li>
                  <li><input type="checkbox" name="aca" value="Basic Building - Adding Components"> Basic Building - Adding Components
                    <ul class="no_collapse">
                      <li class="Basic Building - Adding Components_mergedActionList">user.battery.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.circuitSwitch.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.grabBagResistor.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.lightBulb.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.resistor.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.seriesAmmeter.addedComponent</li>
                      <li class="Basic Building - Adding Components_mergedActionList">user.wire.addedComponent</li>
                    </ul>
                </ul>
              </li>
            </ul>
          </div>
          <div class="container2" id="horizon_plots_container">
            <img src="images/horizonplots4.png" id="showhorizonplot" alt="Generic placeholder thumbnail" style="display:none;">
            
          </div>
          
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/js.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/docs.min.js"></script>
    <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/dataTables.bootstrap.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    <script>
        $(function(){

    $('#merge_button').click(function(){
        
        
        var merged_name = document.getElementById('merge_name').value;
        document.getElementById('merge_name').value = "";

        var merged_items = $("input:checkbox[name=aca]:checked").map(function(){return $(this).val()}).get();

        //create new list item
        var merged_list = document.getElementById('merged_list');

        var entry = document.createElement('li');

        var input = document.createElement('input');
        input.setAttribute("type", "checkbox");
        input.setAttribute("value", merged_name);
        input.setAttribute("label", merged_name);
        input.setAttribute("name", "aca");
        entry.appendChild(input)
        entry.appendChild(document.createTextNode(" " + merged_name));
      
        var sublist = document.createElement('ul');
        entry.appendChild(sublist);

        for (var i=0; i < merged_items.length; i++){
          var subentry = document.createElement('li');
          subentry.appendChild(document.createTextNode(merged_items[i]));
          subentry.setAttribute("class", merged_name + "_mergedActionList");
          sublist.appendChild(subentry);
        }
        
        merged_list.appendChild(entry);
        mergeData(merged_name, merged_items)

        //uncheck all boxes
          var cbarray = document.getElementsByName("aca");
          for(var i = 0; i < cbarray.length; i++){
            cbarray[i].checked = false;
          };
    
    });
    
     $('#popupclose').click(function(){
        
        
        $('#popup').hide("slow");
    
    });

});

        function showHorizon() {
          var to_display = $("input:checkbox[name=aca]:checked").map(function(){return $(this).val()}).get();

          //uncheck all boxes
          var cbarray = document.getElementsByName("aca");
          for(var i = 0; i < cbarray.length; i++){
            cbarray[i].checked = false;
          };
          //document.getElementById('showhorizonplot').style.display = "block";

          //create divs where horizon plots will go
          var horizon_plots_container = document.getElementById('horizon_plots_container');

          // remove all current children
          horizon_plots_container.innerHTML = '';

          for (var i in to_display) {
            var merged_action_list = [for (e of document.getElementsByClassName(to_display[i] + "_mergedActionList")) e.textContent];
            var horizon_plot_title = document.createElement('p');
            horizon_plot_title.appendChild(document.createTextNode(to_display[i]));

            horizon_plots_container.appendChild(horizon_plot_title);

            var horizon_plot_chart = document.createElement('div');
            horizon_plot_chart.setAttribute("id", "chart_" + to_display[i].split(".").join("_").split(" ").join("_"));
            horizon_plot_chart.setAttribute("class", "stacked_charts");

            horizon_plots_container.appendChild(horizon_plot_chart);

            create_graph(to_display[i], merged_action_list);
          }
}

        
        </script>
        <script type="text/javascript">
var margin = { top: 50, right: 10, bottom: 50, left: 400 },
  cellSize=12;
  col_number=60;
  row_number=50;
  width = cellSize*col_number, // - margin.left - margin.right,
  height = cellSize*row_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(width / 24),
  legendElementWidth = cellSize*4,
  colorBuckets = 15,
  colors = ['#91003F','#A63467','#BB6990','#D19EB9','#DBB9CD','#E6D3E1','#F1EEF6','#FFFFFF','#EDF8FB','#D2E6E3','#B8D4CB','#9EC2B3','#699F83','#347B53','#005824'];
  hcrow = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50], // change to gene name or probe id
  hccol = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60], // change to gene name or probe id
  rowLabel = ["user.showReadoutCheckBox.pressed","user.batteryResistanceEditor.changed","user.mediumRadioButton.pressed","user.voltageEditor.endDrag","model.resistor.fireStarted","user.grabBagItemButton.pressed","user.resetAllConfirmationDialogYesButton.pressed","user.smallRadioButton.pressed","user.bulbResistorEditor.activated","user.redProbe.startDrag","user.redProbe.drag","user.resetAllConfirmationDialogNoButton.pressed","user.voltageEditor.windowClosing","user.lightBulb.removedComponent","parser.break.merge","user.grabBagResistor.movedComponent","user.lightBulb.movedComponent","model.nonContactAmmeterModel.measuredCurrentChanged","user.resistor.addedComponent","model.junction.junctionFormed","user.hideElectronsCheckBox.pressed","model.voltmeterBlackLeadModel.connectionFormed","model.nonContactAmmeterModel.connectionFormed","user.fileMenu.pressed","user.resistivitySlider.startDrag","user.showAdvancedControlsButton.pressed","user.bulbResistorEditor.startDrag","user.lightBulb.addedComponent","user.bulbResistorEditor.windowClosing","model.seriesAmmeter.measuredCurrentChanged","user.nonContactAmmeter.startDrag","user.hideAdvancedControlsButton.pressed","model.seriesAmmeter.fireEnded","user.resistorEditor.deactivated","user.hideHelpButton.pressed","user.junction.movedJunction","user.circuitSwitch.switchClosed","model.voltmeterRedLeadModel.connectionBroken","user.batteryResistanceEditor.endDrag","model.battery.fireEnded","user.grabBagResistor.addedComponent","user.nonContactAmmeterCheckBox.pressed","model.nonContactAmmeterModel.connectionBroken","model.wire.fireEnded","model.wire.fireStarted","user.voltageEditor.deactivated","user.bulbResistorEditor.changed","user.batteryResistanceEditor.deactivated","user.helpMenu.pressed","user.playPauseButton.pressed"], // change to gene name or probe id
  colLabel = ['1.67%','3.33%','5.00%','6.67%','8.33%','10.00%','11.67%','13.33%','15.00%','16.67%','18.33%','20.00%','21.67%','23.33%','25.00%','26.67%','28.33%','30.00%','31.67%','33.33%','35.00%','36.67%','38.33%','40.00%','41.67%','43.33%','45.00%','46.67%','48.33%','50.00%','51.67%','53.33%','55.00%','56.67%','58.33%','60.00%','61.67%','63.33%','65.00%','66.67%','68.33%','70.00%','71.67%','73.33%','75.00%','76.67%','78.33%','80.00%','81.67%','83.33%','85.00%','86.67%','88.33%','90.00%','91.67%','93.33%','95.00%','96.67%','98.33%','100.00%']; // change to contrast name

d3.tsv("https://dl.dropboxusercontent.com/u/21370289/data_heatmap.tsv",
function(d) {
  return {
    row:   +d.row_idx,
    col:   +d.col_idx,
    value: +d.log2ratio
  };
},
function(error, data) {
  var colorScale = d3.scale.quantile()
      .domain([ -.07 , 0, .07])
      .range(colors);
  
  var svg = d3.select("#chart").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
      ;
  var rowSortOrder=false;
  var colSortOrder=false;
  var rowLabels = svg.append("g")
      .selectAll(".rowLabelg")
      .data(rowLabel)
      .enter()
      .append("text")
      .text(function (d) { return d; })
      .attr("x", 0)
      .attr("y", function (d, i) { return hcrow.indexOf(i+1) * cellSize; })
      .style("text-anchor", "end")
      .attr("transform", "translate(-6," + cellSize / 1.5 + ")")
      .attr("class", function (d,i) { return "rowLabel mono r"+i;} ) 
      .on("mouseover", function(d) {d3.select(this).classed("text-hover",true);})
      .on("mouseout" , function(d) {d3.select(this).classed("text-hover",false);})
      .on("click", function(d,i) {rowSortOrder=!rowSortOrder; sortbylabel("r",i,rowSortOrder);d3.select("#order").property("selectedIndex", 4).node().focus();;})
      ;

  var colLabels = svg.append("g")
      .selectAll(".colLabelg")
      .data(colLabel)
      .enter()
      .append("text")
      .text(function (d) { return d; })
      .attr("x", 0)
      .attr("y", function (d, i) { return hccol.indexOf(i+1) * cellSize; })
      .style("text-anchor", "left")
      .attr("transform", "translate("+cellSize/2 + ",-6) rotate (-90)")
      .attr("class",  function (d,i) { return "colLabel mono c"+i;} )
      .on("mouseover", function(d) {d3.select(this).classed("text-hover",true);})
      .on("mouseout" , function(d) {d3.select(this).classed("text-hover",false);})
      .on("click", function(d,i) {colSortOrder=!colSortOrder;  sortbylabel("c",i,colSortOrder);d3.select("#order").property("selectedIndex", 4).node().focus();;})
      ;

  var heatMap = svg.append("g").attr("class","g3")
        .selectAll(".cellg")
        .data(data,function(d){return d.row+":"+d.col;})
        .enter()
        .append("rect")
        .attr("x", function(d) { return hccol.indexOf(d.col) * cellSize; })
        .attr("y", function(d) { return hcrow.indexOf(d.row) * cellSize; })
        .attr("class", function(d){return "cell cell-border cr"+(d.row-1)+" cc"+(d.col-1);})
        .attr("width", cellSize)
        .attr("height", cellSize)
        .style("fill", function(d) { return colorScale(d.value); })
        /* .on("click", function(d) {
               var rowtext=d3.select(".r"+(d.row-1));
               if(rowtext.classed("text-selected")==false){
                   rowtext.classed("text-selected",true);
               }else{
                   rowtext.classed("text-selected",false);
               }
        })*/
        .on("mouseover", function(d){
               //highlight text
               d3.select(this).classed("cell-hover",true);
               d3.selectAll(".rowLabel").classed("text-highlight",function(r,ri){ return ri==(d.row-1);});
               d3.selectAll(".colLabel").classed("text-highlight",function(c,ci){ return ci==(d.col-1);});
        
               //Update the tooltip position and value
               d3.select("#tooltip")
                 .style("left", (d3.event.pageX+10) + "px")
                 .style("top", (d3.event.pageY-10) + "px")
                 .select("#value")
                 .text("lables:"+rowLabel[d.row-1]+","+colLabel[d.col-1]+"\ndata:"+d.value+"\nrow-col-idx:"+d.col+","+d.row+"\ncell-xy "+this.x.baseVal.value+", "+this.y.baseVal.value);  
               //Show the tooltip
               d3.select("#tooltip").classed("hidden", false);
        })
        .on("mouseout", function(){
               d3.select(this).classed("cell-hover",false);
               d3.selectAll(".rowLabel").classed("text-highlight",false);
               d3.selectAll(".colLabel").classed("text-highlight",false);
               d3.select("#tooltip").classed("hidden", true);
        })
        ;

  var legend = svg.selectAll(".legend")
      .data([-.07,-.06,-.05,-.04,-.03,-.02,-.01,0.00,.01,.02,.03,.04,.05,.06,.07])
      .enter().append("g")
      .attr("class", "legend");
 
  legend.append("rect")
    .attr("x", function(d, i) { return legendElementWidth * i; })
    .attr("y", height+(cellSize*2))
    .attr("width", legendElementWidth)
    .attr("height", cellSize)
    .style("fill", function(d, i) { return colors[i]; });
 
  legend.append("text")
    .attr("class", "mono")
    .text(function(d) { return d; })
    .attr("width", legendElementWidth)
    .attr("x", function(d, i) { return legendElementWidth * i; })
    .attr("y", height + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rORc,i,sortOrder){
       var t = svg.transition().duration(3000);
       var log2r=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(".c"+rORc+i) 
         .filter(function(ce){
            log2r.push(ce.value);
          })
       ;
       if(rORc=="r"){ // sort log2ratio of a gene
         sorted=d3.range(col_number).sort(function(a,b){ if(sortOrder){ return log2r[b]-log2r[a];}else{ return log2r[a]-log2r[b];}});
         t.selectAll(".cell")
           .attr("x", function(d) { return sorted.indexOf(d.col-1) * cellSize; })
           ;
         t.selectAll(".colLabel")
          .attr("y", function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort log2ratio of a contrast
         sorted=d3.range(row_number).sort(function(a,b){if(sortOrder){ return log2r[b]-log2r[a];}else{ return log2r[a]-log2r[b];}});
         t.selectAll(".cell")
           .attr("y", function(d) { return sorted.indexOf(d.row-1) * cellSize; })
           ;
         t.selectAll(".rowLabel")
          .attr("y", function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select("#order").on("change",function(){
    order(this.value);
  });
  
  function order(value){
   if(value=="hclust"){
    var t = svg.transition().duration(3000);
    t.selectAll(".cell")
      .attr("x", function(d) { return hccol.indexOf(d.col) * cellSize; })
      .attr("y", function(d) { return hcrow.indexOf(d.row) * cellSize; })
      ;

    t.selectAll(".rowLabel")
      .attr("y", function (d, i) { return hcrow.indexOf(i+1) * cellSize; })
      ;

    t.selectAll(".colLabel")
      .attr("y", function (d, i) { return hccol.indexOf(i+1) * cellSize; })
      ;

   }else if (value=="probecontrast"){
    var t = svg.transition().duration(3000);
    t.selectAll(".cell")
      .attr("x", function(d) { return (d.col - 1) * cellSize; })
      .attr("y", function(d) { return (d.row - 1) * cellSize; })
      ;

    t.selectAll(".rowLabel")
      .attr("y", function (d, i) { return i * cellSize; })
      ;

    t.selectAll(".colLabel")
      .attr("y", function (d, i) { return i * cellSize; })
      ;

   }else if (value=="probe"){
    var t = svg.transition().duration(3000);
    t.selectAll(".cell")
      .attr("y", function(d) { return (d.row - 1) * cellSize; })
      ;

    t.selectAll(".rowLabel")
      .attr("y", function (d, i) { return i * cellSize; })
      ;
   }else if (value=="contrast"){
    var t = svg.transition().duration(3000);
    t.selectAll(".cell")
      .attr("x", function(d) { return (d.col - 1) * cellSize; })
      ;
    t.selectAll(".colLabel")
      .attr("y", function (d, i) { return i * cellSize; })
      ;
   }
  }
  // 
  var sa=d3.select(".g3")
      .on("mousedown", function() {
          if( !d3.event.altKey) {
             d3.selectAll(".cell-selected").classed("cell-selected",false);
             d3.selectAll(".rowLabel").classed("text-selected",false);
             d3.selectAll(".colLabel").classed("text-selected",false);
          }
         var p = d3.mouse(this);
         sa.append("rect")
         .attr({
             rx      : 0,
             ry      : 0,
             class   : "selection",
             x       : p[0],
             y       : p[1],
             width   : 1,
             height  : 1
         })
      })
      .on("mousemove", function() {
         var s = sa.select("rect.selection");
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr("x"), 10),
                     y       : parseInt(s.attr("y"), 10),
                     width   : parseInt(s.attr("width"), 10),
                     height  : parseInt(s.attr("height"), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x < 1 || (move.x*2<d.width)) {
                 d.x = p[0];
                 d.width -= move.x;
             } else {
                 d.width = move.x;       
             }
      
             if(move.y < 1 || (move.y*2<d.height)) {
                 d.y = p[1];
                 d.height -= move.y;
             } else {
                 d.height = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll('.cell-selection.cell-selected').classed("cell-selected", false);
             d3.selectAll(".text-selection.text-selected").classed("text-selected",false);

             d3.selectAll('.cell').filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed("cell-selected") && 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize >= d.x && (this.x.baseVal.value)<=d.x+d.width && 
                     (this.y.baseVal.value)+cellSize >= d.y && (this.y.baseVal.value)<=d.y+d.height
                 ) {
      
                     d3.select(this)
                     .classed("cell-selection", true)
                     .classed("cell-selected", true);

                     d3.select(".r"+(cell_d.row-1))
                     .classed("text-selection",true)
                     .classed("text-selected",true);

                     d3.select(".c"+(cell_d.col-1))
                     .classed("text-selection",true)
                     .classed("text-selected",true);
                 }
             });
         }
      })
      .on("mouseup", function() {
            // remove selection frame
         sa.selectAll("rect.selection").remove();
      
             // remove temporary selection marker class
         d3.selectAll('.cell-selection').classed("cell-selection", false);
         d3.selectAll(".text-selection").classed("text-selection",false);
      })
      .on("mouseout", function() {
         if(d3.event.relatedTarget.tagName=='html') {
                 // remove selection frame
             sa.selectAll("rect.selection").remove();
                 // remove temporary selection marker class
             d3.selectAll('.cell-selection').classed("cell-selection", false);
             d3.selectAll(".rowLabel").classed("text-selected",false);
             d3.selectAll(".colLabel").classed("text-selected",false);
         }
      })
      ;
});
</script>
  </body>
</html>
